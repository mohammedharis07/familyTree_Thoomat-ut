<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THOOMAT FAMILY TREE</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Family Tree Data...</h2>
            <p>Please wait while we prepare your family heritage</p>
        </div>
    </div>

    <div id="error-screen" style="display: none;">
        <div class="error-content">
            <div class="error-icon">⚠️</div>
            <h2>Failed to Load Family Data</h2>
            <p>There was an error loading the family tree data.</p>
            <p>Please check the console for more details.</p>
            <button id="retry-btn" class="retry-button">🔄 Retry</button>
        </div>
    </div>

    <div id="app" style="display: none;">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">🌳</div>
                    <div class="logo-text">
                        <h1>THOOMAT FAMILY TREE</h1>
                        <p>📚 Digital Heritage • 🌐 Connected Generations</p>
                    </div>
                </div>
                
                <div class="header-controls">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Search family members..." class="search-input">
                        <div class="search-icon">🔍</div>
                    </div>
                    
                    <div class="view-controls">
                        <button id="generation-view-btn" class="view-btn active">📊 Generation View</button>
                        <button id="family-view-btn" class="view-btn">👨‍👩‍👧‍👦 Family View</button>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div id="stats-bar" class="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">Total Members:</span>
                    <span id="total-members" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Families:</span>
                    <span id="total-families" class="stat-value">10</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Generations:</span>
                    <span id="total-generations" class="stat-value">4</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Current View:</span>
                    <span id="current-family" class="stat-value">All Families</span>
                </div>
            </div>

            <div id="family-selector" class="family-selector" style="display: none;">
                <h3>Select Family Branch:</h3>
                <div class="family-buttons">
                    <button class="family-btn active" data-family="all">All Families</button>
                    <button class="family-btn" data-family="A T Mohamed unny (Late) & P.M Kochu Rabiya">Family 1: A T Mohamed unny</button>
                    <button class="family-btn" data-family="A T kunjupathumma (Late) & P.K Athakutty (Late)">Family 2: A T kunjupathumma</button>
                    <button class="family-btn" data-family="A T Pathayu (Late) & Weetiparambil Ayyutty (Late)">Family 3: A T Pathayu</button>
                    <button class="family-btn" data-family="A T Nafeesakutty & M.A Bappu Moulavi (Late)">Family 4: A T Nafeesakutty</button>
                    <button class="family-btn" data-family="A.T AliKunji (Late) & P.K Kunhipathunni">Family 5: A.T AliKunji</button>
                    <button class="family-btn" data-family="A.T Kunjaisu (Late) & R.V Mohammed Haji (Late)">Family 6: A.T Kunjaisu</button>
                    <button class="family-btn" data-family="A.T Aminakutty (Late) & A.M Bayu (Late)">Family 7: A.T Aminakutty</button>
                    <button class="family-btn" data-family="A T Aboobakker (Late) & Rasiya .P.N">Family 8: A T Aboobakker</button>
                    <button class="family-btn" data-family="A.T Zainba & Abdul Kadar">Family 9: A.T Zainba</button>
                    <button class="family-btn" data-family="A T Ibrahim Kutty & Zohra Ibrahim">Family 10: A T Ibrahim Kutty</button>
                </div>
            </div>

            <div id="tree-container" class="tree-container">
                <!-- Family tree will be rendered here -->
            </div>
        </main>
    </div>

    <!-- Load individual family data files first -->
    <script src="family-1-mohamed-unny.js"></script>
    <script src="family-2-kunjupathumma.js"></script>
    <script src="family-3-pathayu.js"></script>
    <script src="family-4-nafeesakutty.js"></script>
    <script src="family-5-alikunji.js"></script>
    <script src="family-6-kunjaisu.js"></script>
    <script src="family-7-aminakutty.js"></script>
    <script src="family-8-aboobakker.js"></script>
    <script src="family-9-zainba.js"></script>
    <script src="family-10-ibrahim-kutty.js"></script>
    
    <!-- Load main family data file that combines all families -->
    <script src="family-data.js"></script>
    
    <!-- Load main application script -->
    <script src="script.js"></script>
</body>
</html>
